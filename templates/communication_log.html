{% extends "base.html" %}

{% block title %}Communication Log{% endblock %}
{% block content %}
<div class="row">
  <div class="col-md-8 table-container">
    <h2 class="text-center">Existing Data</h2>
    <table class="table table-hover table-striped table-bordered" id="dataTable">
      <thead>
        <tr>
          <th style="width: auto;">ID</th>
          <th style="width: auto;">Date</th>
          <th>Bank Name</th>
          <th>Focal Person</th>
          <th style="width: 8%">Medium</th>
          <th style="width: 40%">Summary</th>
          <th>Remarks</th>
        </tr>
      </thead>
      <tbody>
        {% for record in log_data %}
        <tr>
          <td>{{ record[0] }}</td>
          <td>{{ record[1]}}</td>
          <td>{{ record[2] }}</td>
          <td>{{ record[3] }}</td>
          <td>{{ record[6] }}</td>
          <td>{{ record[4] }}</td>
          <td>{{ record[5] }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="col-md-4 form-container">
    <h2 class="text-center">Add New Record</h2>
    <div class="card p-4">
      <form method="POST">
        <div class="form-group">
          <label for="date">Date:</label>
          <input type="date" id="date" name="date" required class="form-control">
        </div>

        <div class="form-group">
          <label for="bankname">Bank Name:</label>
          <select class="form-control" id="bankname" name="bankname">
            {% for bank in banklist %}
            {% set bank = bank[0] %}
            <option value="{{ bank }}">{{ bank }}</option>
            {% endfor %}
          </select>
        </div>

        <div class="form-group">
          <label for="focal_person">Focal Person:</label>
          <input type="checkbox" id="focal_person" name="focal_person">
        </div>

        <div class="form-group">
          <label for="medium">Communicated Via:</label>
          <select class="form-control" id="medium" name="medium">
            <option value="Phone">Phone</option>
            <option value="E-Mail">E-mail</option>
            <option value="Letter">Letter</option>
          </select>
        </div>

        <div class="form-group">
          <label for="summary">Summary:</label>
          <textarea id="summary" name="summary" rows="5" required class="form-control"></textarea>
        </div>

        <div class="form-group">
          <label for="remarks">Remarks:</label>
          <input type="text" id="remarks" name="remarks" maxlength="50" required class="form-control">
        </div>

        <input type="submit" value="Submit" class="btn btn-primary">
      </form>
    </div>
  </div>
</div>
{% endblock %}